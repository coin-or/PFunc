\documentclass[9pt,twocolumn,letter]{article}

\include{pfunc-defs} 
\include{squeeze}

\lstset{language=C++,style=basic}

\begin{document}

\title{PFunc: A Vehicle For Learning Shared-memory Task Parallelism}

\author{
Prabhanjan Kambadur and Anshul Gupta\\ 
IBM T J Watson Research Center\\
{\texttt \{pkambadu,anshul\}@us.ibm.com}
}

\date{}

\maketitle


\begin{abstract} 
Task parallelism is an intuitive and generic model of parallelism, which
subsumes both the data parallel and SPMD~\cite{darema2001} models, and can be
used to parallelize both regular and irregular applications.
%
Therefore, it should be an essential part of undergraduate curriculum whether
the students are preparing for an industrial or academic careers.
%
In this half hour presentation, we showcase PFunc, an open-source library for
task parallelism that has been designed not only for practitioners, but also as
a pedantic tool for writing parallel programs with ease and flexibility.
%
Specifically, we will focus on those aspects of PFunc that make it an ideal 
tool for learning both basic and advanced topics in parallel programming.
\end{abstract}

\section{Introduction}
% The importance of hands-on parallel programming instructions
\begin{center}
\small{\textit{``I hear, I know. I see, I remember. I do, I understand.'' -
Confucius.}}
\end{center}
%
Till recently, practice of parallel programming was outside the reach of many 
classrooms due to the lack of parallel programming platforms.
% 
However, due to the increasing ubiquity of multi-core CPUs on commodity
desktops and laptops, parallel programming can be practiced by one and all.
% Why teach task parallelism instead of other forms
Of the available parallel programming models, the task parallel model is is
sufficiently high-level and generic, thereby enabling it to parallelize regular
and irregular applications on shared, distributed and heterogeneous
architectures alike.  
%
Therefore, it should be an essential part of undergraduate curriculum whether
the students are preparing for an industrial or academic careers.

% Languages, language extensions, library models.
% Why is the library model practical and better for pedagogy?
Task parallel programming environments can be broadly classified into three
kinds: languages, language extensions and pragmas, and libraries.
% Languages
Many modern programming languages offer direct support for task parallelism
(eg., Chapel~\cite{Chamberlain:2007p1040}, Fortress~\cite{fortress}, and
X10~\cite{Charles:2005p1232}).
%
However, these new languages are not well suited for learning parallel
programming as they hide the machinery necessary for realizing task
parallelism.
%
Furthermore, these new languages are not yet used either in the industry or in
academia --- so, the exercise of learning parallelism through new languages 
might be in vain.
%
Finally, learning a new language takes focus away from learning parallel
programming itself and therefore might be counter-productive.
% Language extensions
Language extensions and pragmas such as Cilk~\cite{FrigoLeRa98},
OpenMP~\cite{kn:omp_30}, HP\Cpp{}~\cite{gannon:hpc}, Fx~\cite{Gross:1994} and
\Charmpp{}~\cite{Kale93charm++:a} that provide task parallelism add only a few
new ``keywords'' to existing stock programming languages, making their
adaptation (relative to new languages) easier.
%
However, for pedantic purposes, they suffer from many of the shortcomings of
new languages.
% Libraries
Libraries written in stock programming languages such as C/\Cpp{} have long 
been used in both industry and academia for parallelizing applications.
%
Well-designed task parallel libraries offer an unique advantage for pedantic
purposes in that they do not require learning a new language nor do they
encumber laborious installation procedures.
%
Furthermore, as most of the machinery is written in stock programming
languages, essential programming tools such as debuggers, performance
profilers, and memory checkers can be used to both develop parallel programs
and understand some of the ``little details'' that affect a parallel program's
behavior.

%
% Why should PFunc be the recommended vehicle for teaching undergraduate 
% course work? What are its benefits? Address these two questions.
%
% 1. Open-source with BSD-style license.
% 2. Portable to Windows, Linux, OSX, and AIX.
% 3. Well documented and stable.
% 4. Works with stock C++ compiler, no tool chain necessary.
% 5. Can be used for a followup course or for students who are more 
%    adventerous.
% 6. Many examples to choose from (DAG scheduling, Itemset mining, 
%    BLAS, select NAS parallel benchmarks, simple examples).
% 7. Actively supported.
%
\section{PFunc}
\label{sec:pfunc}
PFunc~\cite{kambadur09:pfunc}, short for Parallel Functions, is a library for
task parallelism in C/\Cpp{} that has been designed not only as a fast library
for practitioners, but also as a pedantic tool for writing parallel programs
with ease and flexibility.
%
PFunc is particularly well suited for the classroom as it not only permits, but
encourages experimentation.
%
The features offered by PFunc are a strict superset of the features offered by
other solutions (languages, language extensions, and libraries) for task
parallelism.

%
% Practical aspects. For beginners.
%
PFunc is an open-source software that has been released under the BSD-style
Eclipse Public License-v1.0.~\footnote{\texttt
http://www.eclipse.org/legal/epl-v10.html}
%
PFunc runs \textit{natively} on Windows, OSX, Linux, and AIX (x86 and
PowerPC chips) with any standards compliant C/\Cpp{} compiler; that is, PFunc
can be freely installed and used on a vast majority of desktops and
laptops.
%
PFunc is stable, well documented, and actively developed with detailed
tutorials and techincal support available through its
website.~\footnote{\texttt https://projects.coin-or.org/PFunc.}
%
Additional learning/teaching material is available in the form of example
programs that demonstrate different approaches for using PFunc to achieve the
same goal and the impact of each approach on performance.
%
Furthermore, several high performance programs including DAG scheduling,
frequent pattern mining, select BLAS kernels, and select NAS parallel
benchmarks parallelized using PFunc are also freely available.
%
To help understand, develop, and debug parallel programs, PFunc provides a
production-grade exception handling mechanism that operates smoothly across
thread boundaries.
%
Therefore, PFunc is an excellent candidate for teaching task parallelism to 
undergraduate and graduate students.

%
% For advanced users
%
PFunc is geared towards experimentation by allowing users to ``plug-and-play''
with different task scheduling policies, task priorities, and task affinities.
%
Not only can students choose from a wide variety of built-in options (eg.,
Cilk-style, FIFO, LIFO, and priority-based scheduling), but also implement
their own customizations with ease.
%
Orthogonally, PFunc also allows switching from different degrees of the
work-sharing model to work-stealing model~\cite{Blumofe94} through its
initialization API.
%
Furthermore, PFunc comes with built-in integration with PAPI~\cite{papi}, an
open-source API for portable performance characterization of programs on a
variety of architectures. 
%
Hence, PFunc can also be used for teaching advanced topics in parallel
programming such as task scheduling, work-stealing, and performance tuning. 

%
% Write about TBB, TPL, PPL, and Boost Task --- why each of them is not 
% uniquely suited for our purposes.
%
\section{Related Work}

\tiny
\bibliographystyle{plain}
\bibliography{refs}

\end{document}
